# å…«å­—è®¡ç®—MCPæœåŠ¡å™¨

ğŸ”® ä¸“ä¸šçš„å…«å­—è®¡ç®—MCPæœåŠ¡å™¨

[![npm version](https://badge.fury.io/js/@mymcp-fun%2Fbazi.svg)](https://badge.fury.io/js/@mymcp-fun%2Fbazi)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## âœ¨ ç‰¹æ€§

- ğŸš€ **ä¸€è¡Œå‘½ä»¤å¯åŠ¨**: `npx @mymcp-fun/bazi`
- ğŸ“Š **å®Œæ•´å…«å­—åˆ†æ**: å››æŸ±ã€äº”è¡Œã€ç”Ÿè‚–ã€æ˜Ÿåº§ã€å†œå†æ—¥æœŸ
- ğŸŒ **æ—¶åŒºæ”¯æŒ**: æ”¯æŒå…¨çƒæ—¶åŒºçš„å‡†ç¡®è®¡ç®—
- ğŸ”— **MCPåè®®å…¼å®¹**: æ— ç¼é›†æˆClaude Desktopç­‰MCPå®¢æˆ·ç«¯
- âš¡ **TypeScriptæ„å»º**: ç±»å‹å®‰å…¨ï¼Œæ€§èƒ½ä¼˜å¼‚
- ğŸ§ª **å®Œæ•´æµ‹è¯•**: 100%æµ‹è¯•è¦†ç›–ç‡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç›´æ¥ä½¿ç”¨ (æ¨è)

```bash
npx @mymcp-fun/bazi
```

### å…¨å±€å®‰è£…

```bash
npm install -g @mymcp-fun/bazi
bazi  # å®‰è£…åå¯ç›´æ¥ä½¿ç”¨ bazi å‘½ä»¤
```

## ğŸ”§ MCPå®¢æˆ·ç«¯é…ç½®

### Claude Desktop

åœ¨ `claude_desktop_config.json` ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "bazi": {
      "command": "npx",
      "args": ["-y", "@mymcp-fun/bazi"]
    }
  }
}
```

### å…¶ä»–MCPå®¢æˆ·ç«¯

æœ¬æœåŠ¡å™¨å…¼å®¹æ‰€æœ‰æ ‡å‡†MCPå®¢æˆ·ç«¯ï¼ŒåŒ…æ‹¬ï¼š
- Claude Desktop
- Zed Editor  
- VS Code (é€šè¿‡MCPæ‰©å±•)
- è‡ªå®šä¹‰MCPå®¢æˆ·ç«¯

## ğŸ“Š å·¥å…·API

### get_bazi_details

è®¡ç®—ç”Ÿè¾°å…«å­—å’Œäº”è¡Œä¿¡æ¯

**è¾“å…¥å‚æ•°:**
- `year` (number): å‡ºç”Ÿå¹´ä»½ (1900-2100)
- `month` (number): å‡ºç”Ÿæœˆä»½ (1-12)
- `day` (number): å‡ºç”Ÿæ—¥æœŸ (1-31)
- `hour` (number): å‡ºç”Ÿæ—¶é—´ (0-23)
- `gender` (string, å¯é€‰): æ€§åˆ« "male" æˆ– "female"ï¼Œé»˜è®¤ "male"
- `timezone` (string, å¯é€‰): æ—¶åŒºï¼Œé»˜è®¤ "Asia/Shanghai"

**è¿”å›ç»“æœ:**
```json
{
  "å››æŸ±": {
    "å¹´æŸ±": "ä¹™é…‰",
    "æœˆæŸ±": "å·±ä¸‘",
    "æ—¥æŸ±": "ä¸å·³",
    "æ—¶æŸ±": "å£¬å­"
  },
  "äº”è¡Œ": {
    "æœ¨": 1,
    "ç«": 2,
    "åœŸ": 2,
    "é‡‘": 1,
    "æ°´": 2
  },
  "ç”Ÿè‚–": "é¸¡",
  "æ˜Ÿåº§": "æ°´ç“¶",
  "å†œå†": {
    "å†œå†å¹´": 2005,
    "å†œå†æœˆ": 12,
    "å†œå†æ—¥": 29,
    "æ˜¯å¦é—°æœˆ": false,
    "å†œå†æœˆå": "è…Šæœˆ"
  },
  "æ—¥ä¸»": "ä¸"
}
```

## ğŸ§ª å¼€å‘å’Œæµ‹è¯•

### å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/mymcp-fun/bazi.git
cd bazi
```

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

### æ„å»ºé¡¹ç›®

```bash
npm run build
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# å•ç‹¬è¿è¡Œæµ‹è¯•
npm run test:basic      # åŸºç¡€åŠŸèƒ½æµ‹è¯•
npm run test:mcp        # MCPæœåŠ¡å™¨æµ‹è¯•  
npm run test:lunar      # lunar-javascript APIæµ‹è¯•
npm run test:accuracy   # å‡†ç¡®æ€§æµ‹è¯•
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
bazi/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ server.ts           # MCPæœåŠ¡å™¨ä¸»å…¥å£
â”‚   â”œâ”€â”€ bazi-service.ts     # å…«å­—è®¡ç®—æœåŠ¡
â”‚   â””â”€â”€ types.ts           # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ dist/                 # ç¼–è¯‘è¾“å‡º
â””â”€â”€ package.json          # npmé…ç½®
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **MCP SDK**: @modelcontextprotocol/sdk (æœ€æ–°ç‰ˆæœ¬)
- **å…«å­—è®¡ç®—**: lunar-javascript (æƒå¨åº“ï¼Œ1600+å‘¨ä¸‹è½½é‡)
- **å¼€å‘è¯­è¨€**: TypeScript 5.0+
- **è¿è¡Œç¯å¢ƒ**: Node.js 18+
- **ä¾èµ–ç®¡ç†**: npm

## ğŸ“¦ ä½œä¸ºåº“ä½¿ç”¨

æœ¬åŒ…é™¤äº†å¯ä»¥ä½œä¸º MCP æœåŠ¡å™¨ä½¿ç”¨ï¼Œè¿˜å¯ä»¥ä½œä¸º npm åº“ç›´æ¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼š

```bash
npm install @mymcp-fun/bazi
```

### å¯ç”¨çš„å¯¼å‡ºæ¨¡å—

- `@mymcp-fun/bazi/service` - å…«å­—è®¡ç®—æœåŠ¡ç±»
- `@mymcp-fun/bazi/types` - TypeScript ç±»å‹å®šä¹‰
- `@mymcp-fun/bazi` - å®Œæ•´çš„ MCP æœåŠ¡å™¨

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åœ¨Claude Desktopä¸­ä½¿ç”¨

1. é…ç½®MCPæœåŠ¡å™¨åé‡å¯Claude Desktop
2. çœ‹åˆ°å·¥å…·å›¾æ ‡è¡¨ç¤ºæœåŠ¡å™¨å·²è¿æ¥
3. æé—®ç¤ºä¾‹ï¼š

```
è¯·å¸®æˆ‘è®¡ç®—ä¸€ä¸‹2006å¹´1æœˆ28æ—¥23æ—¶50åˆ†å‡ºç”Ÿçš„äººçš„å…«å­—ä¿¡æ¯
```

Claudeä¼šè‡ªåŠ¨è°ƒç”¨å…«å­—è®¡ç®—å·¥å…·å¹¶è¿”å›è¯¦ç»†åˆ†æï¼š

```
å…«å­—å››æŸ±ï¼šä¹™é…‰ å·±ä¸‘ ä¸å·³ å£¬å­
ç”Ÿè‚–ï¼šé¸¡
æ˜Ÿåº§ï¼šæ°´ç“¶åº§
å†œå†ï¼š2005å¹´è…Šæœˆå»¿ä¹
äº”è¡Œåˆ†å¸ƒï¼šæœ¨1 ç«2 åœŸ2 é‡‘1 æ°´2
æ—¥ä¸»ï¼šä¸
```

### ç¼–ç¨‹è°ƒç”¨ç¤ºä¾‹

```typescript
// å¯¼å…¥å…«å­—è®¡ç®—æœåŠ¡
import { MCPBaziService } from '@mymcp-fun/bazi/service';
import { BaziResult } from '@mymcp-fun/bazi/types';

const service = new MCPBaziService();
const result: BaziResult = await service.calculateBazi({
  year: 2006,
  month: 1, 
  day: 28,
  hour: 23
});

console.log(`å››æŸ±: ${result.å››æŸ±.å¹´æŸ±} ${result.å››æŸ±.æœˆæŸ±} ${result.å››æŸ±.æ—¥æŸ±} ${result.å››æŸ±.æ—¶æŸ±}`);
console.log(`ç”Ÿè‚–: ${result.ç”Ÿè‚–}`);
console.log(`æ˜Ÿåº§: ${result.æ˜Ÿåº§}`);
```

## ğŸ¯ å‡†ç¡®æ€§ä¿è¯

### æŠ€æœ¯åŸºç¡€
- ä½¿ç”¨**lunar-javascript**ä½œä¸ºè®¡ç®—å¼•æ“ï¼Œè¿™æ˜¯æœ€å—ä¿¡ä»»çš„ä¸­æ–‡å†œå†è®¡ç®—åº“ä¹‹ä¸€
- å‘¨ä¸‹è½½é‡1600+ï¼Œè¿œè¶…å…¶ä»–åŒç±»åŒ…
- ç”±ä¸“ä¸šå¼€å‘è€…6tailç»´æŠ¤ï¼Œä¸“é—¨ä¸ºä¸­æ–‡ä¼ ç»Ÿç®—æ³•è®¾è®¡

### æµ‹è¯•éªŒè¯
- âœ… ä¼ ç»Ÿå‘½ç†å­¦ç»å…¸æ¡ˆä¾‹æµ‹è¯•é€šè¿‡
- âœ… è¾¹ç•Œæ—¶é—´å¤„ç†æµ‹è¯•é€šè¿‡  
- âœ… å…¨æ—¶åŒºè®¡ç®—éªŒè¯é€šè¿‡
- âœ… 100%æµ‹è¯•è¦†ç›–ç‡

### è®¡ç®—ç‰¹è‰²
- æ”¯æŒå®Œæ•´çš„å¤©å¹²åœ°æ”¯è®¡ç®—
- å‡†ç¡®çš„äº”è¡Œåˆ†æå’Œæƒé‡è®¡ç®—
- æ­£ç¡®çš„ç”Ÿè‚–å’Œæ˜Ÿåº§åˆ¤æ–­
- ç²¾ç¡®çš„å†œå†æ—¥æœŸè½¬æ¢

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªåŒ…ï¼Ÿ

1. **ä¼ æ’­ç®€å•**: ä¸€è¡Œnpmå‘½ä»¤ï¼Œæ— éœ€å¤æ‚ç¯å¢ƒé…ç½®
2. **è®¡ç®—å‡†ç¡®**: åŸºäºæƒå¨lunar-javascriptåº“ï¼Œä¿è¯ç»“æœå¯é 
3. **åŠŸèƒ½å®Œæ•´**: ä¸ä»…æœ‰å››æŸ±ï¼Œè¿˜åŒ…å«ç”Ÿè‚–ã€æ˜Ÿåº§ã€å†œå†ã€äº”è¡Œåˆ†æ
4. **å¼€å‘å‹å¥½**: TypeScriptç±»å‹å®‰å…¨ï¼Œç°ä»£åŒ–å¼€å‘ä½“éªŒ
5. **ç”Ÿæ€å…¼å®¹**: å®Œç¾æ”¯æŒMCPåè®®ï¼Œå¯ä¸å„ç§AIå®¢æˆ·ç«¯é›†æˆ

## ğŸ“ æ”¯æŒ

- ğŸ› **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/mymcp-fun/bazi/issues)
- ğŸ“§ **è”ç³»ä½œè€…**: [howard@mymcp.fun](mailto:howard@mymcp.fun)
- ğŸŒ **é¡¹ç›®ä¸»é¡µ**: [mymcp.fun](https://mymcp.fun)

## ğŸ“„ è®¸å¯è¯

MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

ğŸŒŸ **å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼**
